language: julia

julia:
  - 1.3

codecov: true

coveralls: true

branches:
  only: master

script:
  - source ~/virtualenv/python3.7/bin/activate
  - pip install matplotlib
  - git clone https://github.com/arnauqb/qsosed
  - cd qsosed && pip install -r requirements.txt && pip install -e .
  - cd ..
  - julia -e 'using Pkg; Pkg.add(PackageSpec(url="https://github.com/wildart/TOML.jl.git", rev="master")); Pkg.activate("."); Pkg.test("Qaze", coverage=true);'
