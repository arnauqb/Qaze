language: julia

julia:
  - 1.3

codecov: true

coveralls: true

branches:
  only: master

script:
  - sudo apt intall -y python3-venv
  - python3 -m venv qaze
  - source qaze/bin/activate
  - git clone https://github.com/arnauqb/qsosed
  - cd qsosed
  - pip install matplotlib
  - pip install -r requirements.txt
  - pip install -e .
  - cd ..
  - julia -e 'using Pkg; Pkg.add(PackageSpec(url="https://github.com/wildart/TOML.jl.git", rev="master")); Pkg.activate("."); Pkg.test("Qaze", coverage=true);'
